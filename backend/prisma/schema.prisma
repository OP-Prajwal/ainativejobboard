datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

model Installation {
  id                String   @id @default(uuid()) @db.Uuid
  installationId    String   @unique @map("installation_id") @db.Uuid
  domain            String?  @db.VarChar(255)
  installationToken String?  @map("installation_token")
  status            String   @default("active") @db.VarChar(50)
  createdAt         DateTime @default(now()) @map("created_at") @db.Timestamptz
  lastSeenAt        DateTime @default(now()) @map("last_seen_at") @db.Timestamptz
  metadata          Json?    @default("{}")

  @@index([installationId])
  @@map("installations")
}
